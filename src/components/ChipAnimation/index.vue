<script lang="ts">
import anime from "animejs";

export default {
  mounted() {
    anime
      .timeline({
        autoplay: true,
      })
      .add({
        delay: 100,
      })
      .add({
        targets: ".rock",
        translateX: -60,
        rotate: -45,
        easing: "easeInOutExpo",
        duration: 600,
      })
      .add({
        targets: ".rock",
        translateX: 25,
        rotate: -45,
        easing: "easeInCirc",
        duration: 100,
      })
      .add({
        targets: ".rock",
        translateX: -10,
        rotate: -360,
        easing: "easeOutCirc",
        duration: 400,
      })
      .add(
        {
          targets: ".big-chip",
          duration: 1,
          opacity: 0,
        },
        1750
      )
      .add(
        {
          targets: ".chip-piece",
          opacity: 1,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-1",
          translateX: 5,
          translateY: 2,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-2",
          translateX: -5,
          translateY: 2,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-3",
          translateX: -7,
          translateY: 3,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-4",
          translateX: -7,
          translateY: -3,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-5",
          translateX: -6,
          translateY: -9,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-6",
          translateX: 2,
          translateY: -6,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-7",
          translateX: 7,
          translateY: 3,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-8",
          translateX: 7,
          translateY: -3,
          duration: 1,
        },
        1750
      )
      .add(
        {
          targets: ".chip-piece",
          translateX: 0,
          translateY: 0,
          rotate: anime.stagger([-2, 2]),
          duration: 500,
          easing: "easeOutExpo",
        },
        1751
      )
      .add(
        {
          targets: ".spark",
          scale: 0.5,
          duration: 1,
        },
        1600
      )
      .add(
        {
          targets: ".spark",
          opacity: 1,
          scale: 0.9,
          duration: anime.stagger([200, 500]),
          easing: "easeOutBack",
        },
        1760
      )
      .add({
        delay: 3000,
      });
  },
};
</script>

<template>
  <div class="chip-animation">
    <svg
      class="rock rock-animation"
      width="60"
      height="60"
      viewBox="0 0 75 75"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M58.5351 6.07807L57.808 5.59336C55.7725 4.23634 53.5054 3.26427 51.1191 2.72543L42.0769 0.683603C39.3799 0.0745744 36.5858 0.031399 33.8712 0.556803L25.6761 2.14295C22.7591 2.70753 20.0045 3.91495 17.6125 5.67743L14.2479 8.1566C12.0942 9.7436 10.2807 11.7466 8.91482 14.0469L3.23971 23.605C1.58684 26.3888 0.634467 29.5323 0.464415 32.7653L0.329474 35.3308C0.232685 37.171 0.390672 39.0157 0.79895 40.8126L2.11988 46.6263C2.62501 48.8494 3.50654 50.9699 4.72636 52.8959L10.7793 62.4534C12.3371 64.913 14.413 67.0029 16.8622 68.577L17.004 68.6682C19.4431 70.2359 22.194 71.2545 25.066 71.6534L37.1216 73.3279C39.1272 73.6065 41.1636 73.5788 43.1609 73.246L46.4283 72.7014C48.7049 72.322 50.8987 71.5514 52.9125 70.4237L60.4873 66.1818C62.3965 65.1126 64.1173 63.7374 65.5811 62.111L66.0835 61.5527C67.5061 59.9721 68.6675 58.1747 69.5239 56.2282L72.478 49.5144C73.5949 46.976 74.1717 44.233 74.1717 41.4597V33.6263C74.1717 31.5832 73.8586 29.552 73.2433 27.6037L72.0217 23.7352C71.3007 21.4519 70.1754 19.3166 68.6996 17.431L63.1904 10.3921C61.8781 8.71544 60.3066 7.25911 58.5351 6.07807Z"
        fill="#00785B"
      />
    </svg>
    <svg
      class="chip big-chip"
      viewbox="0 0 185 145"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M.486 25.795v4.572L.384 41.95l-.257 6.933.488 4.447c.18 1.733-.103 3.24-.103 4.973-.025 1.256.283 2.764.18 4.02l-.308 3.466-.026 13.508-.206 7.285v.251l.206 8.717v7.586l.13 12.509v7.787l1.285 7.36a8.208 8.208 0 0 0 1.31 3.215l4.086 6.004a8.266 8.266 0 0 0 2.903 2.638l2.518 1.381c1.259.678 4.787 1.055 6.252 1.055h5.884l13.48.457a79.453 79.453 0 0 1 6.937.025l8.993-.607c1.824.075 3.623.1 5.447.075l15.236-.301 13.566.351 7.556.051 24.666-.804h4.753l13.695.804h21.723c.88 0 6.654-.452 9.237-1.055 2.583-.604 6.266-1.482 10.307-6.487 4.006-4.96 4.005-8.723 4.004-10.501v-.048l-.025-3.537v-4.095l.23-15.775.256-6.933-.488-4.446c-.18-1.733.103-3.24.103-4.974.026-1.255-.283-2.763-.18-4.019l.309-3.466.391-12.534.205-7.284v-.252l-.205-8.716v-7.586l.247-13.061-.103-5.577a19.199 19.199 0 0 0-.796-5.124 21.621 21.621 0 0 0-4.188-7.763l-.003-.002-.004-.006c-.615-.726-1.229-1.45-1.792-2.102a21.927 21.927 0 0 0-5.01-4.295l-1.567-.98a23.558 23.558 0 0 0-5.499-2.512l-.308-.1a19.813 19.813 0 0 0-5.807-.854l-8.273.377c-4.265.15-8.504.15-12.77.05l-6.577-.452A191.607 191.607 0 0 0 112.02.7l-9.275.352h-2.827c-.205 0-.385 0-.565.025l-.308.025-10.43-.05H85.48L76.205.7a191.605 191.605 0 0 0-20.452.327l-6.578.452c-4.265.1-8.504.1-12.77-.05l-10.842-.377a19.81 19.81 0 0 0-5.807.854l-.308.1a23.544 23.544 0 0 0-5.498 2.512l-1.568.98a22.112 22.112 0 0 0-4.984 4.22l-1.413 1.608a21.83 21.83 0 0 0-4.6 8.314c-.59 2.01-.899 4.07-.899 6.155z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-1"
      width="97"
      height="56"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M96.632 50.7c0 2.763-2.312 5.024-5.138 5.024H68.395c-2.826 0-5.138-2.261-5.138-5.024v-6.38c0-1.131-.103-2.262-.283-3.367l-.385-2.185-1.465-1.759-1.31-.628a15.025 15.025 0 0 0-2.75-1.03l-3.494-.502-7.836.15-16.83-.25-13.231.15-10.175-.075c-2.826 0-5.139-2.26-5.139-5.024v-4.572c0-2.085.309-4.145.9-6.154a21.83 21.83 0 0 1 4.599-8.315L7.27 9.151a22.114 22.114 0 0 1 4.984-4.22l1.568-.98A23.544 23.544 0 0 1 19.32 1.44l.308-.1a19.81 19.81 0 0 1 5.807-.855L36.28.862c4.265.15 8.504.15 12.77.05L55.625.46A191.606 191.606 0 0 1 76.078.133l9.275.352h3.135c1.9 0 3.75.754 5.087 2.06l1.644 1.608c.9.879 1.388 2.06 1.388 3.29l.332 11.731-.332 13.138v7.636l.025 10.752z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-2"
      width="95"
      height="56"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M.955 22.34v10.173l-.617 11.48V50.7c0 2.763 2.312 5.024 5.139 5.024h23.098c2.826 0 5.139-2.261 5.139-5.024v-6.38c0-1.131.102-2.262.282-3.367l.386-2.185 1.464-1.759 1.31-.628a15.027 15.027 0 0 1 2.75-1.03l3.494-.502 7.836.15 14.26-.25 13.232.15 10.175-.075c2.826 0 5.138-2.26 5.138-5.024l-.102-5.577a19.22 19.22 0 0 0-.797-5.124 21.62 21.62 0 0 0-4.188-7.762c-.616-.729-1.233-1.457-1.798-2.11a21.935 21.935 0 0 0-5.01-4.296l-1.568-.98A23.544 23.544 0 0 0 75.08 1.44l-.308-.1a19.81 19.81 0 0 0-5.807-.855L60.69.862c-4.265.15-8.504.15-12.769.05L41.344.46A191.603 191.603 0 0 0 20.893.133l-9.276.352H8.791c-.206 0-.385 0-.565.025l-.309.025A6.358 6.358 0 0 0 3.19 3.374l-.514.779a5.631 5.631 0 0 0-.565 1.105l-.925 5.702a26.692 26.692 0 0 0-.334 4.974l.103 6.405z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-3"
      width="56"
      height="36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M5.72 34.699c-2.827 0-5.14-2.261-5.14-5.024L.22 18.722v-.276L.556 6.112l.41-1.934c.669-1.507 2.082-2.562 3.726-2.863l1.13-.201c.36-.076.746-.1 1.106-.076l4.213.15h4.394c.282 0 .565-.024.848-.074l1.027-.176C21.239.31 35.934.586 35.934.586c2.544-.427 5.062-.15 7.631.05.103 0 .206.025.309.025l6.783.176c2.826 0 5.138 2.261 5.138 5.024v7.586l.206 8.717v.251l-.206 7.285c0 2.763-2.312 5.024-5.138 5.024l-12.333.326-12.667-.301a68.719 68.719 0 0 0-5.087.05l-3.11.126c-2.055.075-4.11.1-6.166 0l-5.575-.226z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-4"
      width="56"
      height="35"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="m.729 14.553-.18-1.96c.128-2.411.257-4.772.385-7.184l.129-.628C1.757 1.441 2.887.21 5.713.21h44.578c2.827 0 5.113 2.261 5.113 5.024L55.096 8.7c-.103 1.256.206 2.763.18 4.019 0 1.733-.283 3.24-.103 4.974l.488 4.446-.257 6.933c0 2.763-2.287 5.024-5.113 5.024H5.688c-2.827 0-5.113-2.26-5.113-5.024l-.206-6.23.334-3.768c.154-1.507.154-3.014.026-4.521z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-5"
      width="96"
      height="56"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M34.718 7.74v7.713c0 .2.026.402.103.602l.822 2.462c.129.377.36.704.694.955l1.798 1.306c.334.251.746.377 1.182.377l3.443-.025 9.481.351h23.947l10.893-.351c1.67 0 3.289.653 4.47 1.808l1.209 1.18a8.006 8.006 0 0 1 2.415 5.728v4.095l.025 3.537c0 1.759.037 5.545-4.004 10.55-4.041 5.004-7.724 5.883-10.307 6.486-2.583.603-8.357 1.055-9.237 1.055H49.93l-13.695-.804h-4.753l-24.666.804c-3.032 0-5.472-2.387-5.472-5.35l-.026-9.622-.54-21.075v-.176l.591-9.32c0-1.28.411-2.511 1.156-3.541L4.4 3.923C5.942 1.787 8.46.53 11.132.53H25.88c.95 0 1.901.076 2.852.201l2.569.352a4.124 4.124 0 0 1 1.722 1.105l.385.427c.59.653.976 1.457 1.079 2.337l.206 1.783"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-6"
      width="138"
      height="98"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M132.579 1.26c2.826 0 5.139 2.26 5.139 5.023v21.83c0 1.155-.463 2.26-1.31 3.09l-2.595 2.536a4.53 4.53 0 0 1-2.981 1.282l-4.933.175-5.447-.15h-5.987l-7.939-.1a6.744 6.744 0 0 0-3.905 1.255l-2.364 1.708c-.95.704-1.721 1.633-2.158 2.738l-.977 2.311c-.308.779-.488 1.583-.488 2.412v45.994a3.69 3.69 0 0 1-.642 2.06l-.72 1.055a3.587 3.587 0 0 1-1.824 1.407l-3.88 1.407c-.41.15-.873.225-1.31.225l-13.566-.351-15.236.301c-1.824.025-3.623 0-5.447-.075L45.016 98a79.85 79.85 0 0 0-6.937-.025l-13.48-.456h-5.884c-1.465 0-4.993-.377-6.252-1.056l-2.518-1.381a8.263 8.263 0 0 1-2.903-2.638l-4.086-6.003a8.217 8.217 0 0 1-1.31-3.216l-1.285-7.36v-7.787c0-2.763 2.313-5.024 5.139-5.024l10.894-.352c.463-.025.9-.025 1.362 0l10.585.227h1.31l10.51-.327 8.452.075c.591 0 1.157.026 1.722.076 0 0 2.44.125 4.11.15a7.615 7.615 0 0 0 2.801-.452c.257-.1.514-.176.771-.276.9-.352 1.696-.88 2.415-1.507l1.208-1.105c.437-.402.745-.93.9-1.483l.59-2.16c.026-.251.077-.628.103-.879l-.128-9.546a36.69 36.69 0 0 1 .05-4.446l.078-6.606c.026-.88.051-2.286.077-3.14l-.36-11.706a33.156 33.156 0 0 1 0-2.26l.283-9.27c0-1.156.462-2.286 1.31-3.115l2.492-2.437a4.52 4.52 0 0 1 3.187-1.28l13.72-.629h25.719l14.953.603 7.965.05z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-7"
      width="56"
      height="36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M50.307.732c2.826 0 5.139 2.26 5.139 5.024l.36 10.952v.277l-.334 12.333-.412 1.935c-.668 1.507-2.08 2.562-3.725 2.863l-1.13.201c-.36.076-.746.1-1.105.076l-4.214-.151h-4.394a4.83 4.83 0 0 0-.847.075l-1.028.176c-3.828.628-18.525.352-18.525.352-2.544.427-5.062.15-7.631-.05-.103 0-.206-.026-.308-.026l-6.783-.175c-2.827 0-5.14-2.261-5.14-5.024v-7.587l-.205-8.716v-.251L.231 5.73C.23 2.968 2.543.707 5.37.707L17.702.38 30.37.682c1.696.05 3.392.025 5.087-.05l3.11-.126c2.055-.075 4.11-.1 6.166 0l5.575.226z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="chip chip-piece chip-8"
      width="56"
      height="35"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="m55.292 19.903.18 1.96-.386 7.184-.128.628c-.694 3.34-1.85 4.571-4.676 4.571H5.396c-2.827 0-5.14-2.26-5.14-5.024l.31-3.466c.102-1.256-.206-2.763-.18-4.02 0-1.732.282-3.24.102-4.973L0 12.317l.257-6.933C.257 2.62 2.569.36 5.396.36h44.912c2.826 0 5.138 2.26 5.138 5.024l.206 6.23-.36 3.768a22.156 22.156 0 0 0 0 4.521z"
        fill="#E7A726"
      />
    </svg>
    <svg
      class="spark spark-1"
      width="35"
      height="39"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M4.284 37.77.979 35.291a2.419 2.419 0 0 1-.735-2.972l3.338-7.035 13.84-22.717c.34-.559.892-.956 1.53-1.1l1.808-.411a2.419 2.419 0 0 1 1.971.412l5.088 3.753 5.622 4.274c.602.457.956 1.17.956 1.925v.446c0 .64-.255 1.256-.708 1.71L14.8 32.478a2.419 2.419 0 0 1-.34.283l-7.354 5.064a2.418 2.418 0 0 1-2.822-.057z"
        fill="#F05F3A"
      />
    </svg>
    <svg
      class="spark spark-2"
      width="55"
      height="20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="m1.36 4.876.284-.31c.42-.46 1-.74 1.621-.785L50.881.369a2.423 2.423 0 0 1 1.484.378l.807.52a2.403 2.403 0 0 1 1.104 1.964l.329 13.932a2.423 2.423 0 0 1-1.307 2.205l-.403.21c-.45.233-.96.321-1.462.25l-48.03-6.763a2.408 2.408 0 0 1-2.051-2.038L.749 6.852a2.416 2.416 0 0 1 .61-1.976z"
        fill="#F05F3A"
      />
    </svg>
    <svg
      class="spark spark-3"
      width="38"
      height="38"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="m3.947 1.18 1.905-.3a2.419 2.419 0 0 1 1.818.446L36.112 22.43a2.408 2.408 0 0 1 .947 2.288l-.087.589a2.42 2.42 0 0 1-.359.954l-6.033 9.384c-.208.323-.49.593-.821.786l-.547.318c-.5.29-1.086.394-1.654.29l-1.894-.344a2.412 2.412 0 0 1-1.459-.873l-10.997-13.86L1.478 7.32a2.41 2.41 0 0 1-.445-2.135l.332-1.23c.06-.221.151-.434.27-.63l.616-1.01a2.43 2.43 0 0 1 1.696-1.134z"
        fill="#F05F3A"
      />
    </svg>
  </div>
</template>

<style scoped>
.chip-animation {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  height: 400px;
  width: 400px;
}

.rock {
  position: absolute;
  top: 0;
  bottom: 0;
  left: -290px;
  right: 0;
  margin: auto;
}

.chip {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
}

.chip-piece {
  opacity: 0;
}

.chip-1 {
  top: -106px;
  left: -105px;
}

.chip-2 {
  top: -106px;
  left: 104px;
}

.chip-3 {
  top: -41px;
  left: 144px;
}

.chip-4 {
  top: 41px;
  left: 144px;
}

.chip-5 {
  top: 104px;
  left: 104px;
}

.chip-6 {
  top: 64px;
  left: -62px;
}

.chip-7 {
  top: -41px;
  left: -144px;
}

.chip-8 {
  top: 41px;
  left: -144px;
}

.big-chip {
  width: 185px;
}

.spark {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  margin: auto;
  opacity: 0;
}

.spark-1 {
  top: -60px;
  left: 270px;
  transform-origin: left bottom;
}

.spark-2 {
  left: 300px;
  transform-origin: left center;
}

.spark-3 {
  top: 55px;
  left: 270px;
  transform-origin: top left;
}
</style>
